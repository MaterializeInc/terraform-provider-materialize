---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "materialize_source_postgres Resource - terraform-provider-materialize"
subcategory: ""
description: |-
  A Postgres source describes a PostgreSQL instance you want Materialize to read data from.
---

# materialize_source_postgres (Resource)

A Postgres source describes a PostgreSQL instance you want Materialize to read data from.

## Example Usage

```terraform
resource "materialize_source_postgres" "example_source_postgres" {
  name        = "source_postgres"
  schema_name = "schema"
  size        = "3xsmall"
  publication = "mz_source"

  postgres_connection {
    name = "pg_connection"
    # Optional parameters
    # database_name = "postgres"
    # schema_name = "public"
  }

  table {
    name  = "schema1.table_1"
    alias = "s1_table_1"
  }

  table {
    name  = "schema2.table_1"
    alias = "s2_table_1"
  }
}

# CREATE SOURCE schema.source_postgres
#   FROM POSTGRES CONNECTION "database"."schema"."pg_connection" (PUBLICATION 'mz_source')
#   FOR TABLES (schema1.table_1 AS s1_table_1, schema2_table_1 AS s2_table_1)
#   WITH (SIZE = '3xsmall');
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The identifier for the source.
- `postgres_connection` (Block List, Min: 1, Max: 1) The PostgreSQL connection to use in the source. (see [below for nested schema](#nestedblock--postgres_connection))
- `publication` (String) The PostgreSQL publication (the replication data set containing the tables to be streamed to Materialize).

### Optional

- `cluster_name` (String) The cluster to maintain this source. If not specified, the `size` option must be specified.
- `database_name` (String) The identifier for the source database. Defaults to `MZ_DATABASE` environment variable if set or `materialize` if environment variable is not set.
- `expose_progress` (String) The name of the progress subsource for the source. If this is not specified, the subsource will be named `<src_name>_progress`.
- `ownership_role` (String) The owernship role of the object.
- `schema` (List of String) Creates subsources for specific schemas. If neither table or schema is specified, will default to ALL TABLES
- `schema_name` (String) The identifier for the source schema. Defaults to `public`.
- `size` (String) The size of the source. If not specified, the `cluster_name` option must be specified.
- `table` (Block List) Creates subsources for specific tables. If neither table or schema is specified, will default to ALL TABLES (see [below for nested schema](#nestedblock--table))
- `text_columns` (List of String) Decode data as text for specific columns that contain PostgreSQL types that are unsupported in Materialize. Can only be updated in place when also updating a corresponding `table` attribute.

### Read-Only

- `id` (String) The ID of this resource.
- `qualified_sql_name` (String) The fully qualified name of the source.
- `subsource` (List of Object) Subsources of a source. (see [below for nested schema](#nestedatt--subsource))

<a id="nestedblock--postgres_connection"></a>
### Nested Schema for `postgres_connection`

Required:

- `name` (String) The postgres_connection name.

Optional:

- `database_name` (String) The postgres_connection database name.
- `schema_name` (String) The postgres_connection schema name.


<a id="nestedblock--table"></a>
### Nested Schema for `table`

Required:

- `name` (String) The name of the table.

Optional:

- `alias` (String) The alias of the table.


<a id="nestedatt--subsource"></a>
### Nested Schema for `subsource`

Read-Only:

- `database_name` (String)
- `name` (String)
- `schema_name` (String)

## Import

Import is supported using the following syntax:

```shell
# Sources can be imported using the source id:
terraform import materialize_source_postgres.example_source_postgres <source_id>

# Source id and information be found in the `mz_catalog.mz_sources` table
```
